<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>CatraLibraries: Times Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CatraLibraries
   </div>
   <div id="projectbrief">CatraLibrariesisageneral-purposeC++framework.Itisplatformindependent(Unix,MAC,Windows,...)andprovidesclassestomanagePOSIXthreads,Sockets,SocketsConnectionManager,Tracer,Scheduler,EventsSet,Configurationfiles,HTTPCacheManager,SoftwareLoadBalancer,FTP,Tools(Buffers/Strings,DateTime,FileIO,FileReader,CPUUsage,Networks,Processes,Services,...),WebTools(HTTPGET,HTTPPOST,HTTPServer,...),Databaseaccess(Oracle,Sybase),,...</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classTimes-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Times Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Times_8h_source.html">Times.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Times:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classTimes.png" usemap="#Times_map" alt=""/>
  <map id="Times_map" name="Times_map">
<area href="classCheckServerSocketTimes.html" alt="CheckServerSocketTimes" shape="rect" coords="0,56,166,80"/>
<area href="classCheckSocketsPoolTimes.html" alt="CheckSocketsPoolTimes" shape="rect" coords="176,56,342,80"/>
<area href="classCheckUnusedSocketsTimes.html" alt="CheckUnusedSocketsTimes" shape="rect" coords="352,56,518,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab441144f7b259cefc115720aadf907e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimes.html#ab441144f7b259cefc115720aadf907e7">Times</a> (void)</td></tr>
<tr class="separator:ab441144f7b259cefc115720aadf907e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af481cb5a3b6365de41a646727da29c14"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimes.html#af481cb5a3b6365de41a646727da29c14">~Times</a> (void)</td></tr>
<tr class="separator:af481cb5a3b6365de41a646727da29c14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4db570593ccdc6e4da4efd7a541b5697"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimes.html#a4db570593ccdc6e4da4efd7a541b5697">init</a> (unsigned long ulPeriodInMilliSeconds=0, const char *pClassName=(const char *) NULL)</td></tr>
<tr class="separator:a4db570593ccdc6e4da4efd7a541b5697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa19e66b9101a4cf7fa4b761436bf6e6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimes.html#aa19e66b9101a4cf7fa4b761436bf6e6d">init</a> (const char *pSchedule, const char *pClassName=(const char *) NULL)</td></tr>
<tr class="separator:aa19e66b9101a4cf7fa4b761436bf6e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3779dd62fd179fffb611bf8af063f6a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac3779dd62fd179fffb611bf8af063f6a"></a>
virtual <a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><b>finish</b> (void)</td></tr>
<tr class="separator:ac3779dd62fd179fffb611bf8af063f6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30f3ff9e00804e9472dbbc6c980c46b3"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimes.html#a30f3ff9e00804e9472dbbc6c980c46b3">start</a> (const char *pStartDateTime=(const char *) NULL)</td></tr>
<tr class="separator:a30f3ff9e00804e9472dbbc6c980c46b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd2873023832178b0f1ac2a102ca925a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimes.html#acd2873023832178b0f1ac2a102ca925a">stop</a> ()</td></tr>
<tr class="separator:acd2873023832178b0f1ac2a102ca925a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae87af9e9bf0e90f54620abb250195466"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimes.html#ae87af9e9bf0e90f54620abb250195466">isStarted</a> (Boolean_p pbIsStarted)</td></tr>
<tr class="separator:ae87af9e9bf0e90f54620abb250195466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf8b9f66a5793679bea385e6e31b9f4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimes.html#aaf8b9f66a5793679bea385e6e31b9f4a">isExpiredTime</a> (Boolean_p pbIsExpired)</td></tr>
<tr class="separator:aaf8b9f66a5793679bea385e6e31b9f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4ae0ebf1e6a3f1663e466d952bf25d"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimes.html#a8d4ae0ebf1e6a3f1663e466d952bf25d">handleTimeOut</a> (void)=0</td></tr>
<tr class="separator:a8d4ae0ebf1e6a3f1663e466d952bf25d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a549f3fd48f6ecddf8ec659ff32fc4a3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimes.html#a549f3fd48f6ecddf8ec659ff32fc4a3f">getClassName</a> (char *pClassName)</td></tr>
<tr class="separator:a549f3fd48f6ecddf8ec659ff32fc4a3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46d35389ea25b5a5bc51c2ceaba14499"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimes.html#a46d35389ea25b5a5bc51c2ceaba14499">getNextExpirationDateTime</a> (char *pNextExpirationDateTime)</td></tr>
<tr class="separator:a46d35389ea25b5a5bc51c2ceaba14499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c7616887f537c356a9e4d0622c4b35c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimes.html#a8c7616887f537c356a9e4d0622c4b35c">updateNextExpirationDateTime</a> (void)</td></tr>
<tr class="separator:a8c7616887f537c356a9e4d0622c4b35c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad0c8cf14d39cce41922ea0653654d67c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimes.html#ad0c8cf14d39cce41922ea0653654d67c">addMilliSecondsToDateTime</a> (char *pDestDateTime, Boolean_p pbDestDaylightSavingTime, const char *pSrcDateTime, long lSrcDaylightSavingTime, unsigned long ulMilliSeconds)</td></tr>
<tr class="separator:ad0c8cf14d39cce41922ea0653654d67c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:abaec143ba840bf4a16745256ba1bc92e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abaec143ba840bf4a16745256ba1bc92e"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>TimesStatus</b> { <b>SCHTIMES_BUILDED</b>, 
<b>SCHTIMES_INITIALIZED</b>, 
<b>SCHTIMES_STARTED</b>
 }</td></tr>
<tr class="separator:abaec143ba840bf4a16745256ba1bc92e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eef5130bf0925b252d5dd86a20efd7d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3eef5130bf0925b252d5dd86a20efd7d"></a>
typedef enum Times::TimesStatus&#160;</td><td class="memItemRight" valign="bottom"><b>TimesStatus_t</b></td></tr>
<tr class="separator:a3eef5130bf0925b252d5dd86a20efd7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59d222aacfb062267dc04a75bc5767cb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a59d222aacfb062267dc04a75bc5767cb"></a>
typedef enum Times::TimesStatus *&#160;</td><td class="memItemRight" valign="bottom"><b>TimesStatus_p</b></td></tr>
<tr class="separator:a59d222aacfb062267dc04a75bc5767cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a0bd9dc1bbaea288eda9e0751345ac3c7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0bd9dc1bbaea288eda9e0751345ac3c7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Times</b> (const <a class="el" href="classTimes.html">Times</a> &amp;t)</td></tr>
<tr class="separator:a0bd9dc1bbaea288eda9e0751345ac3c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac5f42e3cd32c3e9df01143f08b2bfc14"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5f42e3cd32c3e9df01143f08b2bfc14"></a>
PMutex_t&#160;</td><td class="memItemRight" valign="bottom"><b>_mtTimesMutex</b></td></tr>
<tr class="separator:ac5f42e3cd32c3e9df01143f08b2bfc14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b0e45c6f834ed518307c5dffcea04dc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1b0e45c6f834ed518307c5dffcea04dc"></a>
TimesStatus_t&#160;</td><td class="memItemRight" valign="bottom"><b>_schTimesStatus</b></td></tr>
<tr class="separator:a1b0e45c6f834ed518307c5dffcea04dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a035c8bb3a79424d62c0764752bb99bd0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a035c8bb3a79424d62c0764752bb99bd0"></a>
TimesType_t&#160;</td><td class="memItemRight" valign="bottom"><b>_ttTimesType</b></td></tr>
<tr class="separator:a035c8bb3a79424d62c0764752bb99bd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f77b44e8c0c30dda6a075ee5f19e64"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1f77b44e8c0c30dda6a075ee5f19e64"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>_pClassName</b> [SCH_MAXCLASSNAMELENGTH]</td></tr>
<tr class="separator:ac1f77b44e8c0c30dda6a075ee5f19e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dd225264640428495556cdf9efbf003"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8dd225264640428495556cdf9efbf003"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><b>_ulPeriodInMilliSeconds</b></td></tr>
<tr class="separator:a8dd225264640428495556cdf9efbf003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1e1ec43a2158a6e2e892bc14e11972c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa1e1ec43a2158a6e2e892bc14e11972c"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>_pCalendarSchedule</b> [SCH_MAXSCHEDULELENGTH]</td></tr>
<tr class="separator:aa1e1ec43a2158a6e2e892bc14e11972c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef1571df691158c16ded00ea0a938cd1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aef1571df691158c16ded00ea0a938cd1"></a>
Boolean_t&#160;</td><td class="memItemRight" valign="bottom"><b>_bNextDaylightSavingTime</b></td></tr>
<tr class="separator:aef1571df691158c16ded00ea0a938cd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab35a55c9a0ab90afc6807f459743038d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab35a55c9a0ab90afc6807f459743038d"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>_pNextExpirationDateTime</b> [SCH_MAXDATELENGTH]</td></tr>
<tr class="separator:ab35a55c9a0ab90afc6807f459743038d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aefe1838c6ea2ce7652e3915d8d3136"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6aefe1838c6ea2ce7652e3915d8d3136"></a>
Boolean_t&#160;</td><td class="memItemRight" valign="bottom"><b>_bCurrentDaylightSavingTime</b></td></tr>
<tr class="separator:a6aefe1838c6ea2ce7652e3915d8d3136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c3880f93a227c647cd1cccda07528bb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1c3880f93a227c647cd1cccda07528bb"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>_pCurrentExpirationDateTime</b> [SCH_MAXDATELENGTH]</td></tr>
<tr class="separator:a1c3880f93a227c647cd1cccda07528bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Un oggetto di tipo <a class="el" href="classTimes.html">Times</a> puo' essere pensato come un orologio cui possono essere inseriti allarmi (timeouts). Il tipo <a class="el" href="classTimes.html">Times</a> e' una classe astratta in quanto possiede il metodo virtuale puro handleTimeOut. Il metodo handleTimeout deve essere ridefinito dall'utente in modo che esso possa realizzare le operazioni da eseguire quando si verifica un timeout. L'utente della libreria deve semplicemente creare una classe per ogni <a class="el" href="classTimes.html">Times</a> personalizzato che eredita dalla classe <a class="el" href="classTimes.html">Times</a> e ridefinire il metodo handleTimeout. E' lo scheduler che automaticamente si preoccupa di gestire gli oggetti di tipo <a class="el" href="classTimes.html">Times</a> e chiamare il metodo handleTimeout ogni qual volta si verifica un timeout.</p>
<p>Gestione del cambio ora legale da parte degli oggetti <a class="el" href="classTimes.html">Times</a> </p><pre class="fragment">Cambio 3:00 -&gt; 2:00 (in Italia, notte del 31/10/YYYY)
    1:30 ... 2:00 ... 2:30 ... 3:00=2:00 ... 2:30 ... 3:00 ... 4:00
                                            ***

    In questo caso i timeout non saranno ripetuti, nonostante
        il periodo 2:00 - 3:00 si verifica 2 volte.

        Gli oggetti Times utilizzano la struttura tm ed il
        time_t UTC (tipi del linguaggio C) per i calcoli sulle date.
        Supponiamo che venga settato un timeout
        alle 2:30 di ogni giorno, il timeout della notte incriminata
        (cambio ora legale) sara': 1999-10-31 02:30:00 con il
        corrispondente campo dst (Daylight Saving Time) della
        struttura tm inizializzato a 1 (vedi ** sopra).
        Per calcolare il prossimo timeout l'oggetto Times
        convertira' la data del timeout (1999-10-31 02:30:00) nella
        struttura tm. In questa conversione pero' il campo
        dst (Daylight Saving Time) della struttura tm viene
        inizializzato dalle API C a 0 (vedi *** sopra).
        Per cui le prossime 2:30 saranno il 1999-11-01 02:30:00.

Cambio 2:00 -&gt; 3:00 (in Italia a Marzo)
    1:30 ... 2:00=3:00 ... 3:30

    Fino alle 1:59 lo scheduler eseguira' normalmente i suoi
    timeout.
    Tutto i timeout tra le 2:00 e le 3:00
    saranno persi in quanto quella notte non si verifichera
    mai ad esempio le 2:30, e cosi' via.</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab441144f7b259cefc115720aadf907e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Times::Times </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Costrutore </p>

</div>
</div>
<a class="anchor" id="af481cb5a3b6365de41a646727da29c14"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Times::~Times </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Distruttore </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad0c8cf14d39cce41922ea0653654d67c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Times::addMilliSecondsToDateTime </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pDestDateTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Boolean_p&#160;</td>
          <td class="paramname"><em>pbDestDaylightSavingTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pSrcDateTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>lSrcDaylightSavingTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>ulMilliSeconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Metodo statico che permette di sommare alla data pSrcDateTime un certo numero di secondi indicato da lSeconds. Il parametro lSeconds puo' assumere anche un numero di secondi negativo. La data indicante il risultato dell'operazione viene inserita nel parametro di output pDestDateTime. Il formato delle stringhe rappresentanti le date deve essere: yyyy-mm-dd hh:mi:ss. </p>

</div>
</div>
<a class="anchor" id="a549f3fd48f6ecddf8ec659ff32fc4a3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Times::getClassName </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pClassName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ritorna il nome della classe dell'oggetto di tipo <a class="el" href="classTimes.html">Times</a>. </p>

</div>
</div>
<a class="anchor" id="a46d35389ea25b5a5bc51c2ceaba14499"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Times::getNextExpirationDateTime </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pNextExpirationDateTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ritorna una copia della variabile _pNextExpirationDateTime. </p>

</div>
</div>
<a class="anchor" id="a8d4ae0ebf1e6a3f1663e466d952bf25d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classError.html">Error</a> Times::handleTimeOut </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>E' il metodo che deve essere ridefinito per indicare le operazioni da eseguire quando si verifica un timeout. Esso viene chiamato automaticamente dallo scheduler.</p>
<p>Nel caso in cui e' l'ultimo timeout che si verifica per l'oggetto, lo scheduler thread ha gia' chiamato la deactiveTimes sul corrente times, cio' vuol dire che lo scheduler thread non ha piu' conoscenza del suddetto times. Quindi, all'interno di questo metodo, e' possibile se si vuole eseguire la delete dell'oggetto stesso: finish (); delete this;</p>
<p>Si puo' capire che si tratta dell'ultimo timeout eseguito dall'oggetto, dal valore dello stato dell'oggetto. Infatti in questo caso lo stato dell'oggetto e' cambiato da SCHTIMES_STARTED a SCHTIMES_INITIALIZED. if (_schTimesStatus == <a class="el" href="classTimes.html">Times</a>:: SCHTIMES_INITIALIZED) { finish (); delete this; } Nel caso in cui l'oggetto <a class="el" href="classTimes.html">Times</a> e' condiviso da altri threads oltre lo scheduler e' bene accedere alla variabile _schTimesStatus all'interno di una 'regione critica' tramite il mutex _mtTimesMutex: <a class="el" href="classTimes.html">Times</a>:: TimesStatus_t schTimesStatus; _mtTimesMutex. lock (); schTimesStatus = _schTimesStatus; _mtTimesMutex. unLock (); if (schTimesStatus == <a class="el" href="classTimes.html">Times</a>:: SCHTIMES_INITIALIZED) { finish (); delete this; }</p>
<p>Se si vuole che questo oggetto non sia piu' referenziato dallo scheduler thread e' necessario che questo metodo ritorni un errore. Anche in questo caso, all'interno di questo metodo, e' possibile se si vuole eseguire la delete dell'oggetto stesso: deleteTimesData (); solo per times persistenti finish (); delete this; return errAnError; </p>

<p>Implemented in <a class="el" href="classCheckSocketsPoolTimes.html#ae5165a0f78d81b4e47ecf01ed0e087e3">CheckSocketsPoolTimes</a>, <a class="el" href="classCheckServerSocketTimes.html#a58a5437d831290309a8a5c0962c9ea33">CheckServerSocketTimes</a>, and <a class="el" href="classCheckUnusedSocketsTimes.html#a8c50692bc02d393289ae18196628ea70">CheckUnusedSocketsTimes</a>.</p>

</div>
</div>
<a class="anchor" id="a4db570593ccdc6e4da4efd7a541b5697"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Times::init </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>ulPeriodInMilliSeconds</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pClassName</em> = <code>(const&#160;char&#160;*)&#160;NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Viene inizializzato un times periodico. Inizializza l'oggetto specificando il periodo tra due timeout. Il parametro lPeriod e' espresso in secondi. </p>

</div>
</div>
<a class="anchor" id="aa19e66b9101a4cf7fa4b761436bf6e6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Times::init </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pSchedule</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pClassName</em> = <code>(const&#160;char&#160;*)&#160;NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Viene inizializzato un times 'calendario'. Inizializza l'oggetto specificando la schedulazione all'interno del parametro pSchedule. Il parametro pSchedule deve essere inizializzato con il seguente formato: year month monthday weekday hour minute second</p>
<p>Con questo tipo di schedule, la granularità si ferma ai secondi e non vengono usati i millisecondi.</p>
<p>I valori dei precedenti elementi costituenti il contenuto del parametro pSchedule variano nei seguenti intervalli: year anno month mese di un anno, 1-12 monthday giorno di un mese, 1-31 weekday giorno della settimana, 0-6, 0=domenica hour ora di un giorno, 0-23 minute minuto di un'ora, 0-59 second secondo di un minuto, 0-59</p>
<p>Ogni campo precedente puo' essere:</p><ul>
<li>un '*', in tal caso indica qualunque valore (esempio minute: * indica che il timeout puo' verificarsi in qualunque minuto)</li>
<li>un valore (esempio minute: 4 indica che il timeout si verifica solo quando i minuti di un ora sia uguali a 4)</li>
<li>due valori separati da un trattino (esempio hour: 4-16 indica che il timeout si puo' verificare solamente quando i minuti di un'ora siano all'interno dell'intervallo specificato)</li>
<li>due o piu' valori separati da virgole (esempio minute: 1,15 indica che il timeout si puo' verificare solamente quando i minuti di un'ora siano 1 oppure 15)</li>
</ul>
<p>Nota che la specifica dei giorni puo' essere fatta in due campi: monthday e weekday. Se entrambi sono specificati essi sono cumulativi. Per specificare i giorni in un solo campo inizializzare l'altro campo a '*'.</p>
<p>Esempio: pSchedule &lt;- "* * 1,15 1 0 0 0" In questo caso si verifica un timeout l'1 ed il 15 di ogni mese e ogni lunedi'.</p>
<p>Esempio: pSchedule &lt;- "2000 * 1,15 1 0 0 0" In questo caso si verifica un timeout l'1 ed il 15 di ogni mese e ogni lunedi' dell'anno 2000. </p>

</div>
</div>
<a class="anchor" id="aaf8b9f66a5793679bea385e6e31b9f4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Times::isExpiredTime </td>
          <td>(</td>
          <td class="paramtype">Boolean_p&#160;</td>
          <td class="paramname"><em>pbIsExpired</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ritorna true se all'oggetto di tipo <a class="el" href="classTimes.html">Times</a> si sia verificato almeno un timeout non gestito ancora dallo scheduler, false altrimenti. </p>

</div>
</div>
<a class="anchor" id="ae87af9e9bf0e90f54620abb250195466"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Times::isStarted </td>
          <td>(</td>
          <td class="paramtype">Boolean_p&#160;</td>
          <td class="paramname"><em>pbIsStarted</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ritorna true se l'oggetto di tipo <a class="el" href="classTimes.html">Times</a> e' in stato started, false altrimenti. </p>

</div>
</div>
<a class="anchor" id="a30f3ff9e00804e9472dbbc6c980c46b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Times::start </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pStartDateTime</em> = <code>(const&#160;char&#160;*)&#160;NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Il metodo start fa si che lo scheduler gestisce gli eventuali timeouts dell'oggetto. E' possibile anche indicare la data di partenza a partire dalla quale il <a class="el" href="classTimes.html">Times</a> viene fatto partire. Di default (quando il parametro pStartDateTime e' NULL) la data di partenza dell'oggetto di tipo <a class="el" href="classTimes.html">Times</a> e' il momento in cui il metodo start viene chiamato. Il comportamento del metodo start e' il seguente: se il times e' periodico, la prossima data di scadenza sara' pStartDateTime + il periodo se il times e' calendar, la prossima data di scadenza sara' la prossima data dopo pStartDateTime compatibile con lo schedule Il formato della data del parametro pStartDateTime e': yyyy-mm-dd hh:mi:ss:mill. </p>

</div>
</div>
<a class="anchor" id="acd2873023832178b0f1ac2a102ca925a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Times::stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Questo metodo fa si che lo scheduler non gestisca da ora in poi gli eventuali timeouts dell'oggetto. </p>

</div>
</div>
<a class="anchor" id="a8c7616887f537c356a9e4d0622c4b35c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Times::updateNextExpirationDateTime </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Aggiorna il prossimo timeout dell'oggetto. Questo metodo viene chiamato dalla libreria dopo che si e' verificato un timeout. Nel caso in cui e' stato gia' raggiunto l'ultimo timeout (nei <a class="el" href="classTimes.html">Times</a> periodici quando il periodo e' 0, in quelli calendar si raggiungera' l'ultimo timeout solo se l'anno viene specificato) il metodo ritornera' l'errore SCH_REACHED_LASTTIMEOUT e lo stato dell'oggetto viene cambiato automaticamente da SCHTIMES_STARTED a SCHTIMES_INITIALIZED. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Scheduler/src/<a class="el" href="Times_8h_source.html">Times.h</a></li>
<li>Scheduler/src/Times.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
