<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>CatraLibraries: Service Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CatraLibraries
   </div>
   <div id="projectbrief">CatraLibrariesisageneral-purposeC++framework.Itisplatformindependent(Unix,MAC,Windows,...)andprovidesclassestomanagePOSIXthreads,Sockets,SocketsConnectionManager,Tracer,Scheduler,EventsSet,Configurationfiles,HTTPCacheManager,SoftwareLoadBalancer,FTP,Tools(Buffers/Strings,DateTime,FileIO,FileReader,CPUUsage,Networks,Processes,Services,...),WebTools(HTTPGET,HTTPPOST,HTTPServer,...),Databaseaccess(Oracle,Sybase),,...</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classService-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Service Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Service_8h_source.html">Service.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Service:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classService.png" usemap="#Service_map" alt=""/>
  <map id="Service_map" name="Service_map">
<area href="classConnectionsManagerService.html" alt="ConnectionsManagerService" shape="rect" coords="0,56,177,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a46a3eaa6777dc893f9f71605508ea83c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classService.html#a46a3eaa6777dc893f9f71605508ea83c">init</a> (const char *pServiceName, const char *pServiceDescription)</td></tr>
<tr class="separator:a46a3eaa6777dc893f9f71605508ea83c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacbd59f86f92a75688581c69cafd3623"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aacbd59f86f92a75688581c69cafd3623"></a>
<a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><b>finish</b> (void)</td></tr>
<tr class="separator:aacbd59f86f92a75688581c69cafd3623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e4a895e790f46fa2504641f8013f9ff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e4a895e790f46fa2504641f8013f9ff"></a>
<a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><b>isInstalled</b> (Boolean_p pbIsInstalled)</td></tr>
<tr class="separator:a1e4a895e790f46fa2504641f8013f9ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa92ae9b25ec12f0d2bfb67a30c423ce6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa92ae9b25ec12f0d2bfb67a30c423ce6"></a>
<a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><b>install</b> (int iArgc, char **pArgv)</td></tr>
<tr class="separator:aa92ae9b25ec12f0d2bfb67a30c423ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af41b24c88452d97811ebb7546c5686b5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af41b24c88452d97811ebb7546c5686b5"></a>
<a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><b>unInstall</b> (void)</td></tr>
<tr class="separator:af41b24c88452d97811ebb7546c5686b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5859fdc7aeb83bc86d8b6aa13b7a88af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classService.html#a5859fdc7aeb83bc86d8b6aa13b7a88af">parseArguments</a> (int argc, char *argv[], unsigned long *pulReservedArgumentsNumberFound)</td></tr>
<tr class="separator:a5859fdc7aeb83bc86d8b6aa13b7a88af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa1c9706b4fcecb3aa0269136315d904"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classService.html#aaa1c9706b4fcecb3aa0269136315d904">start</a> (int iArgc, char **pArgv)</td></tr>
<tr class="separator:aaa1c9706b4fcecb3aa0269136315d904"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:abc67f4616231710531476f31eaad939d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abc67f4616231710531476f31eaad939d"></a>
static <a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><b>launchUnixDaemon</b> (const char *pPIDFilePathName)</td></tr>
<tr class="separator:abc67f4616231710531476f31eaad939d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:affabaaf890dc035cb55a1927d1062195"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="affabaaf890dc035cb55a1927d1062195"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>_pServiceDebugFile</b> [TOOLS_SERVICE_MAXSERVICEDEBUGLOG]</td></tr>
<tr class="separator:affabaaf890dc035cb55a1927d1062195"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a0a1d6de6efdd35225acbb4886aa4bfa3"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classService.html#a0a1d6de6efdd35225acbb4886aa4bfa3">onStart</a> (void)</td></tr>
<tr class="separator:a0a1d6de6efdd35225acbb4886aa4bfa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bf54160b55871420c22a00da9c9a3ac"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classService.html#a5bf54160b55871420c22a00da9c9a3ac">onStop</a> (void)</td></tr>
<tr class="separator:a5bf54160b55871420c22a00da9c9a3ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38a207dd15541fb6865152f0ded17eda"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38a207dd15541fb6865152f0ded17eda"></a>
virtual <a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><b>onInstall</b> (void)</td></tr>
<tr class="separator:a38a207dd15541fb6865152f0ded17eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf1f99c9c3f02ffecd894f6caa156de1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaf1f99c9c3f02ffecd894f6caa156de1"></a>
virtual <a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><b>onUnInstall</b> (void)</td></tr>
<tr class="separator:aaf1f99c9c3f02ffecd894f6caa156de1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee4b2a9c3df69401f4a0d2cbdcd4ec2a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classService.html#aee4b2a9c3df69401f4a0d2cbdcd4ec2a">onInit</a> (void)</td></tr>
<tr class="separator:aee4b2a9c3df69401f4a0d2cbdcd4ec2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd2b68c5b2bbec23c8c13504658234b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classService.html#a0bd2b68c5b2bbec23c8c13504658234b">appendStartScriptCommand</a> (Buffer_p pbServiceScriptFile)</td></tr>
<tr class="separator:a0bd2b68c5b2bbec23c8c13504658234b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89331fd7b39ccd8d68211b99aa1e4cbe"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classService.html#a89331fd7b39ccd8d68211b99aa1e4cbe">appendStopScriptCommand</a> (Buffer_p pbServiceScriptFile)</td></tr>
<tr class="separator:a89331fd7b39ccd8d68211b99aa1e4cbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6903d40f2edd5117baed10a21b585b12"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classError.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classService.html#a6903d40f2edd5117baed10a21b585b12">appendStatusScriptCommand</a> (Buffer_p pbServiceScriptFile)</td></tr>
<tr class="separator:a6903d40f2edd5117baed10a21b585b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a00ae6b7caf4ee2c24dc1179a73ae5690"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00ae6b7caf4ee2c24dc1179a73ae5690"></a>
Buffer_t&#160;</td><td class="memItemRight" valign="bottom"><b>_bServiceName</b></td></tr>
<tr class="separator:a00ae6b7caf4ee2c24dc1179a73ae5690"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class represent a service. Here are the steps to create a service class:</p><ol type="1">
<li>declare a class deriving by <a class="el" href="classService.html">Service</a>.</li>
<li>By default the <a class="el" href="classService.html">Service</a> just write "I'm running" each two seconds. Therefore the derived service class must re-define:<ul>
<li>the 'onStart' virtual method to start the service.</li>
<li>the 'onInit' virtual method (called when the service is started)</li>
<li>the 'onStop' virtual method (called when the service is stopped)</li>
<li>...other virtual methods to manage other events if necessary</li>
</ul>
</li>
</ol>
<p>Remark: The service is stopped/finished when the onStart method will finish. Therefore the onStart method must return only when the service is finished.</p>
<p>The main of the executable will be like: #ifdef WIN32 #else <a class="el" href="classService.html">Service</a>:: launchUnixDaemon (); #endif</p>
<p>wsNewService. init ()</p>
<p>wsNewService. parseArguments (iArgc, pArgv, &amp;ulReservedArgumentsNumberFound)</p>
<p>if (ulReservedArgumentsNumberFound == 0) wsNewService. start (iArgc, pArgv)</p>
<p>wsNewService. finish () </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0bd2b68c5b2bbec23c8c13504658234b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Service::appendStartScriptCommand </td>
          <td>(</td>
          <td class="paramtype">Buffer_p&#160;</td>
          <td class="paramname"><em>pbServiceScriptFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Only on unix/linux environment, this method must be re-defined in order to set the command that will be used by the script inside the /etc/rc.d/ined.d directory to start the service. </p>

<p>Reimplemented in <a class="el" href="classConnectionsManagerService.html#ae0c41b9ccf05c96b46d2773501b2749b">ConnectionsManagerService</a>.</p>

</div>
</div>
<a class="anchor" id="a6903d40f2edd5117baed10a21b585b12"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Service::appendStatusScriptCommand </td>
          <td>(</td>
          <td class="paramtype">Buffer_p&#160;</td>
          <td class="paramname"><em>pbServiceScriptFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Only on unix/linux environment, this method must be re-defined in order to set the command that will be used by the script inside the /etc/rc.d/ined.d directory to start the service. </p>

<p>Reimplemented in <a class="el" href="classConnectionsManagerService.html#a1e0c865a5bfa6c72cf8611a7e24499c4">ConnectionsManagerService</a>.</p>

</div>
</div>
<a class="anchor" id="a89331fd7b39ccd8d68211b99aa1e4cbe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Service::appendStopScriptCommand </td>
          <td>(</td>
          <td class="paramtype">Buffer_p&#160;</td>
          <td class="paramname"><em>pbServiceScriptFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Only on unix/linux environment, this method must be re-defined in order to set the command that will be used by the script inside the /etc/rc.d/ined.d directory to start the service. </p>

<p>Reimplemented in <a class="el" href="classConnectionsManagerService.html#a4889aed70ad5db629120a9d106c415dc">ConnectionsManagerService</a>.</p>

</div>
</div>
<a class="anchor" id="a46a3eaa6777dc893f9f71605508ea83c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Service::init </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pServiceName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pServiceDescription</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the <a class="el" href="classService.html">Service</a>. In case of Windows, if service user name and password are NULL, the service will use the localsystem account. </p>

</div>
</div>
<a class="anchor" id="aee4b2a9c3df69401f4a0d2cbdcd4ec2a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Service::onInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Method called before the service is started (onStart method). Initialize all the objects of the service. </p>

<p>Reimplemented in <a class="el" href="classConnectionsManagerService.html#aaaac64a3017723a55db0e3f0966efa92">ConnectionsManagerService</a>.</p>

</div>
</div>
<a class="anchor" id="a0a1d6de6efdd35225acbb4886aa4bfa3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Service::onStart </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Method called when the service is started. It must not return until the service is started. If the service starts threads, they must be closed before this method is finished. </p>

<p>Reimplemented in <a class="el" href="classConnectionsManagerService.html#a0af46e99788ccf97d8d8fb45dcd2c53f">ConnectionsManagerService</a>.</p>

</div>
</div>
<a class="anchor" id="a5bf54160b55871420c22a00da9c9a3ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Service::onStop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Method called when the service is stopped. It causes the finishing of the onStart method and finishes all the object initialized in onInit. Remark: If onStart method is something like: thread-1. start ... thread-n. start</p>
<p>thread-n. join thread-n-1. cancel ... thread-1. cancel</p>
<p>the onStop method should be: thread-n. cancel wait that the last thread is finished { thread1.getThreadState (&amp;stRTPThreadState) tUTCNow = time (NULL); while (stRTPThreadState == <a class="el" href="classPosixThread.html">PosixThread</a>:: THREADLIB_STARTED || stRTPThreadState == <a class="el" href="classPosixThread.html">PosixThread</a>:: THREADLIB_STARTED_AND_JOINED) { if (time (NULL) - tUTCNow &gt;= 60) break; <a class="el" href="classPosixThread.html">PosixThread</a>:: getSleep (1, 0) thread1.getThreadState (&amp;stRTPThreadState) } }</p>
<p>object-m. finish ... object-1. finish </p>

<p>Reimplemented in <a class="el" href="classConnectionsManagerService.html#ac1b2dc55e8b07acfab9efd501002f5c7">ConnectionsManagerService</a>.</p>

</div>
</div>
<a class="anchor" id="a5859fdc7aeb83bc86d8b6aa13b7a88af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Service::parseArguments </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>pulReservedArgumentsNumberFound</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method parse optional arguments that could be passed to the service executable and if it finds 'reserved' parameters performs the relative command on the <a class="el" href="classService.html">Service</a>. The 'reserved' parameters and the relative service activity are: "-i" -&gt; install the service "-u" -&gt; uninstall the service "-start" -&gt; start the service "-stop" -&gt; stop the service</p>
<p>Only for unix/linux environment, the start and the stop command just call the start and the stop funcion inside the script of the service (/etc/rc.d/init.d/&lt;service name&gt;=""&gt;) and wait that the call will finish. </p>

</div>
</div>
<a class="anchor" id="aaa1c9706b4fcecb3aa0269136315d904"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classError.html">Error</a> Service::start </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iArgc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pArgv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method starts the service calling onInit and onStart (and onStop only for unix environment, for Windows, onStop is called when the service is stopped by the 'services' window) and returns when the service is finished. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Tools/src/<a class="el" href="Service_8h_source.html">Service.h</a></li>
<li>Tools/src/Service.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
